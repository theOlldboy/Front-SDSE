(this["webpackJsonpformik-sdes"]=this["webpackJsonpformik-sdes"]||[]).push([[0],{271:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),o=a(24),c=a.n(o),i=a(7),r=a(8),l=a(9),d=a(10),h=a(13),u=a(146),j=a(17),p=a(56),b=a(11),m=a.n(b),O=a(19),g=(a(36),a(12)),x=a(18),f=a(313),v=a(314),S=a(315),C=a(316),k=a(317),w=a(318),y=a(319),N=a(143),T=a(320),P=a(16),_=a(31),E=a.n(_);function D(){return[/[0-9]/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"/",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/]}function A(){return[/[0-9]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}function I(){return[/[0-9]/,/\d/,/\d/,".",/\d/,/\d/,/\d/,".",/\d/,/\d/,/\d/,"-",/\d/,/\d/]}function V(){return["(",/[0-9]/,/\d/,")"," ",/\d/," ",/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}var M="@user-sdse",F=function(){var e=localStorage.getItem(M);return e?JSON.parse(e).token:null},L=function(){var e=localStorage.getItem(M);return e?JSON.parse(e):null},q=function(e){var t=localStorage.getItem(M);if(!t)return null;var a=JSON.parse(t);a.user=e,localStorage.setItem(M,JSON.stringify(a))},R=function(e){var t=Object.assign({},{token:e.access_token,user:e.empresa});localStorage.setItem(M,JSON.stringify(t)),localStorage.setItem("@user-loc",JSON.stringify({lat:0,lng:0}))},z=function(){localStorage.removeItem(M),localStorage.removeItem("@user-loc")},J=a(142),B=a.n(J).a.create({baseURL:"http://localhost:3000"});B.interceptors.request.use(function(){var e=Object(O.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=F())&&(t.headers.Authorization="Bearer ".concat(a)),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),B.interceptors.response.use(null,(function(e){return 401===e.status&&z(),Promise.reject(e)}));var W=B,H=(a(271),a(2)),K=function(){return Object(H.jsx)("div",{className:"footer",children:Object(H.jsxs)("p",{children:["Secretaria de Obras do Distrito Federal ",Object(H.jsx)("div",{children:"CopyRigth @ 2020"})]})})},U=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return null!==L()?Object(H.jsx)(j.a,{from:this.props.path,to:"/inicio"}):Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Seja bem vindo!"}),Object(H.jsx)(k.a,{children:Object(H.jsx)(g.c,{initialValues:{cnpj:"",senha:""},validationSchema:P.a().shape({cnpj:P.c().required("Campo Obrigat\xf3rio!"),senha:P.c().required("Campo Obrigat\xf3rio!").min(6,"A senha deve ter obrigatoriamente 6-8 caracteres!").max(8,"Senha deve ter obrigatoriamente 6-8 caracteres!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.setSubmitting,n=a.cnpj,o=a.senha,t.next=5,W.post("login/",{cnpj:n,senha:o}).then((function(t){R(t.data),e.props.history.push("/inicio")})).catch((function(e){alert(e.response.data.message),console.log(a)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(w.a,{children:Object(H.jsx)(y.a,{xs:"12",children:Object(H.jsx)(g.a,{name:"cnpj",label:"CNPJ",type:"text",tag:E.a,mask:D,component:x.a})})}),Object(H.jsx)(w.a,{children:Object(H.jsx)(y.a,{xs:"12",children:Object(H.jsx)(g.a,{name:"senha",label:"Senha",type:"password",component:x.a})})}),Object(H.jsxs)(w.a,{xs:"2",children:[Object(H.jsx)(y.a,{children:Object(H.jsx)(N.a,{type:"submit",children:"Acessar"})}),Object(H.jsx)(y.a,{className:"text-sm",children:Object(H.jsx)(T.a,{children:Object(H.jsx)(p.b,{to:"/recupera_senha",children:"Esqueceu sua senha?"})})}),Object(H.jsx)(y.a,{}),Object(H.jsx)(y.a,{className:"text-sm",children:Object(H.jsx)(T.a,{children:Object(H.jsx)(p.b,{to:"/primeiro_acesso",children:"Primeiro Acesso?"})})})]})]})})})]}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),G=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsx)(f.a,{children:Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Selecione a op\xe7\xe3o que desejar!"}),Object(H.jsxs)(k.a,{children:[Object(H.jsx)(N.a,{size:"lg",block:!0,onClick:function(){return e.props.history.push("/doacoes")},children:"Doar Solo"}),Object(H.jsx)(N.a,{size:"lg",block:!0,className:"bg-primary",onClick:function(){return e.props.history.push("/doacoes-disponiveis")},children:"Ver doa\xe7\xf5es dispon\xedveis"}),Object(H.jsx)(N.a,{size:"lg",block:!0,onClick:function(){return e.props.history.push("/solicitacao")},children:"Solicitar Doa\xe7\xe3o"}),Object(H.jsx)(N.a,{size:"lg",block:!0,onClick:function(){return e.props.history.push("/edicao-dados")},children:"Editar Dados"}),Object(H.jsx)(N.a,{size:"lg",block:!0,onClick:function(){z(),e.props.history.push("/login")},children:"Sair"})]})]})}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),Q=a(57);a(274);function X(e){Q.a.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}function Y(e){Q.a.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}function Z(e){Q.a.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0})}Q.a.configure();var $=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return null!==L()?Object(H.jsx)(j.a,{from:this.props.path,to:"/inicio"}):Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Defina uma nova senha para sua conta!"}),Object(H.jsx)(k.a,{children:Object(H.jsx)(g.c,{initialValues:{senha:"",consenha:"",token:""},validationSchema:P.a().shape({senha:P.c().required("Campo Obrigat\xf3rio!").min(6,"A senha deve ter obrigatoriamente 6-8 caracteres!").max(8,"Senha deve ter obrigatoriamente 6-8 caracteres!"),consenha:P.c().required("Campo Obrigat\xf3rio!").min(6,"A senha deve ter obrigatoriamente 6-8 caracteres!").max(8,"Senha deve ter obrigatoriamente 6-8 caracteres!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.setSubmitting,o=a.senha,c=e.props.match.params.token,t.next=5,W.post("/password-reset",{token:c,senha:o}).then((function(t){Y("Senha redefinida com sucesso! Realize o Login!"),e.props.history.push("/login"),n(!1)})).catch((function(e){alert(e.response.data.message),console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(g.a,{name:"senha",label:"Senha",type:"password",component:x.a}),Object(H.jsx)(g.a,{name:"consenha",label:"Confirme a Senha",type:"password",component:x.a}),Object(H.jsx)(N.a,{type:"submit",children:"Salvar"})]})})})]}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return null!==L()?Object(H.jsx)(j.a,{from:this.props.path,to:"/inicio"}):Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Preencha os campos abaixo e enviaremos um link em seu e-mail!"}),Object(H.jsx)(k.a,{children:Object(H.jsx)(g.c,{initialValues:{cnpj:"",email:""},validationSchema:P.a().shape({cnpj:P.c().required("Campo Obrigat\xf3rio!"),email:P.c().required("Campo Obrigat\xf3rio!").email("E-mail inv\xe1lido!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.setSubmitting,o=a.cnpj,c=a.email,t.next=5,W.post("/password-recovery",{cnpj:o,email:c}).then((function(t){Y("Voc\xea receber\xe1 em breve um email no endere\xe7o fornecido para criar uma nova senha para sua conta!"),e.props.history.push("/login"),n(!1)})).catch((function(e){alert(e.response.data.message),console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(g.a,{name:"cnpj",label:"CNPJ",type:"text",tag:E.a,mask:D,component:x.a}),Object(H.jsx)(g.a,{name:"email",label:"E-mail",type:"email",component:x.a}),Object(H.jsx)(N.a,{type:"submit",children:"Enviar"})]})})})]}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),te=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return null!==L()?Object(H.jsx)(j.a,{from:this.props.path,to:"/inicio"}):Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Preencha os campos abaixo e enviaremos um link em seu e-mail!"}),Object(H.jsx)(k.a,{children:Object(H.jsx)(g.c,{initialValues:{cnpj:"",email:""},validationSchema:P.a().shape({cnpj:P.c().required("Campo Obrigat\xf3rio!"),email:P.c().required("Campo Obrigat\xf3rio!").email("E-mail inv\xe1lido!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.setSubmitting,o=a.cnpj,c=a.email,t.next=5,W.post("/password-firstaccess",{cnpj:o,email:c}).then((function(t){Y("Voc\xea receber\xe1 em breve um email no endere\xe7o fornecido para criar uma senha para sua conta!"),e.props.history.push("/login"),n(!1)})).catch((function(e){alert(e.response.data.message),console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(g.a,{name:"cnpj",label:"CNPJ",type:"text",tag:E.a,mask:D,component:x.a}),Object(H.jsx)(g.a,{name:"email",label:"E-mail",type:"email",component:x.a}),Object(H.jsx)(N.a,{type:"submit",children:"Enviar"})]})})})]}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),ae=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return null!==L()?Object(H.jsx)(j.a,{from:this.props.path,to:"/inicio"}):Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{children:[Object(H.jsx)(C.a,{children:"Defina uma nova senha em seu Primeiro Acesso!"}),Object(H.jsx)(k.a,{children:Object(H.jsx)(g.c,{initialValues:{senha:"",consenha:""},validationSchema:P.a().shape({senha:P.c().required("Campo Obrigat\xf3rio!").min(6,"A senha deve ter obrigatoriamente 6-8 caracteres!").max(8,"Senha deve ter obrigatoriamente 6-8 caracteres!"),consenha:P.c().required("Campo Obrigat\xf3rio!").oneOf([P.b("senha"),null],"As senhas devem ser iguais!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.setSubmitting,o=a.senha,c=a.consenha,i=e.props.match.params.token,o!==c){t.next=9;break}return t.next=7,W.post("/password-reset",{token:i,senha:o}).then((function(t){Y("Senha criada com sucesso, realize o login!"),e.props.history.push("/login"),n(!1)})).catch((function(e){alert(e.response.data.message),console.log(e)}));case 7:t.next=10;break;case 9:X("As senhas informadas n\xe3o conferem!");case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(g.a,{name:"senha",label:"Senha",type:"password",component:x.a}),Object(H.jsx)(g.a,{name:"consenha",label:"Confirme a Senha",type:"password",component:x.a}),Object(H.jsx)(N.a,{type:"submit",children:"Salvar"})]})})})]}),Object(H.jsx)(K,{})]})}}]),a}(s.Component),se=a(333),ne=a(334),oe=a(330),ce=a(341),ie=a(338),re=a(340),le=a(339),de=a(331),he=a(337),ue=a(325),je=a(326),pe=a(327),be=a(328),me=a(329),Oe=a(332),ge=a(324),xe=a(28),fe=a(321),ve=a(322),Se=a(323),Ce=function(e){var t=e.hidden,a=e.pagesCount,s=e.currentPage,n=e.handlePageClick,o=e.handlePreviousClick,c=e.handleNextClick;return Object(H.jsxs)(fe.a,{hidden:t,children:[Object(H.jsx)(ve.a,{disabled:s<=0,children:Object(H.jsx)(Se.a,{onClick:o,previous:!0,href:"#"})}),Object(xe.a)(Array(a)).map((function(e,t){return Object(H.jsx)(ve.a,{active:t===s,children:Object(H.jsx)(Se.a,{onClick:function(e){return n(e,t)},href:"#",children:t+1})},t)})),Object(H.jsx)(ve.a,{disabled:s>=a-1,children:Object(H.jsx)(Se.a,{onClick:c,next:!0,href:"#"})})]})},ke=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:0,selected:{volume:"",tipo_solo:{tipo:"Tipo do solo",id:0},status_solo:{status:"Status do solo",id:0}},dropdownOpenTipo:!1,dropdownOpenStatus:!1,showModalEdit:!1,status:[{id:1,status:"DOA\xc7\xc3O - DISPON\xcdVEL"},{id:3,status:"DOA\xc7\xc3O - CONCLU\xcdDA"}]},e.handlePageClick=function(t,a){t.preventDefault(),e.setState({currentPage:a})},e.handlePreviousClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage-1})},e.handleNextClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage+1})},e.toggleEdit=function(){return e.setState({showModalEdit:!e.state.showModalEdit})},e.toggleTipo=function(){return e.setState({dropdownOpenTipo:!e.state.dropdownOpenTipo})},e.toggleStatus=function(){return e.setState({dropdownOpenStatus:!e.state.dropdownOpenStatus})},e.changeVolume=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{volume:t.target.value})})},e.changeTipo=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{tipo_solo:{tipo:t.target.textContent,id:t.target.value}})})},e.changeStatus=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{status_solo:{status:t.target.textContent,id:t.target.value}})})},e.updateSolo=function(){var t=e.state.selected,a=t.id,s=t.volume,n=e.state.selected.tipo_solo.id,o=e.state.selected.status_solo.id;""!==s?0!==n?0!==o?W.put("solo/".concat(a),{volume:s,tipoSoloId:n,statusSoloId:o}).then((function(){var t=e.props.solos.filter((function(t){return e.state.selected.id!==t.id}));e.setState({solos:[e.state.selected].concat(t)}),e.props.change([e.state.selected].concat(t)),Y("Doa\xe7\xe3o atualizada com sucesso")})).catch((function(){X("Erro ao atualizar a doa\xe7\xe3o")})):X("Informe o status da doa\xe7\xe3o"):X("Informe o tipo do solo"):X("Informe o volume de solo da doa\xe7\xe3o")},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({solos:this.props.solos})}},{key:"render",value:function(){var e=this;return Object(H.jsxs)("div",{children:[Object(H.jsxs)(ge.a,{striped:!0,bordered:!0,dark:!0,hover:!0,hidden:this.props.hidden,children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{children:"Volume"}),Object(H.jsx)("th",{children:"Tipo"}),Object(H.jsx)("th",{children:"Status"}),Object(H.jsx)("th",{children:"A\xe7\xe3o"})]})}),Object(H.jsx)("tbody",{children:this.props.solos.slice(10*this.state.currentPage,10*(this.state.currentPage+1)).map((function(t){return Object(H.jsx)(n.a.Fragment,{children:Object(H.jsxs)("tr",{children:[Object(H.jsxs)("td",{children:[t.volume," m\xb3"]}),Object(H.jsx)("td",{children:t.tipo_solo.tipo}),Object(H.jsx)("td",{children:t.status_solo.status}),Object(H.jsxs)("td",{children:[Object(H.jsx)(N.a,{onClick:function(){e.setState({selected:t}),e.toggleEdit()},children:"Editar"}),"                    "]})]})},t.id)}))})]}),Object(H.jsx)(Ce,{hidden:this.props.hidden,pagesCount:Math.round(this.props.solos.length/10+.5),currentPage:this.state.currentPage,handlePageClick:this.handlePageClick,handlePreviousClick:this.handlePreviousClick,handleNextClick:this.handleNextClick}),Object(H.jsxs)(he.a,{isOpen:this.state.showModalEdit,toggle:this.toggleEdit,children:[Object(H.jsx)(ue.a,{toggle:this.toggleEdit,children:"Editar doa\xe7\xe3o"}),Object(H.jsx)(je.a,{children:Object(H.jsx)(pe.a,{children:Object(H.jsxs)(be.a,{children:[Object(H.jsxs)(w.a,{form:!0,children:[Object(H.jsxs)(y.a,{children:[Object(H.jsx)(me.a,{for:"volume",children:"Volume (m\xb3)"}),Object(H.jsx)(oe.a,{value:this.state.selected.volume,type:"number",id:"volume",onChange:this.changeVolume})]}),Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenTipo,toggle:this.toggleTipo,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.selected.tipo_solo.tipo}),Object(H.jsx)(le.a,{children:this.props.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipo,value:t.id,children:t.tipo},t.id)}))})]})})]}),Object(H.jsx)(w.a,{form:!0,children:Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenStatus,toggle:this.toggleStatus,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.selected.status_solo.status}),Object(H.jsx)(le.a,{children:this.state.status.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeStatus,value:t.id,children:t.status},t.id)}))})]})})})]})})}),Object(H.jsxs)(Oe.a,{children:[Object(H.jsx)(N.a,{color:"primary",onClick:function(){e.updateSolo(),e.toggleEdit()},children:"Salvar"}),Object(H.jsx)(N.a,{className:"ml-3",color:"secondary",onClick:this.toggleEdit,children:"Cancelar"})]})]})]})}}]),a}(s.Component),we=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={doacoes:[],new:{id:0,volume:"",latitude:"",longitude:"",tipo_solo:{tipo:"Tipo do solo",id:0},status_solo:{status:"DOA\xc7\xc3O - DISPON\xcdVEL",id:1}},tipos:[],hidden:!1,volume:"",dropdownOpen:!1,dropdownOpenNew:!1,labelTipo:{tipo:"Tipo de solo",id:0},showModal:!1,modalAdd:{selectedFile:null,soloId:0}},e.hiddenTabela=function(){return e.setState({hidden:!e.state.hidden})},e.toggleTipo=function(){return e.setState({dropdownOpen:!e.state.dropdownOpen})},e.toggleTipoNew=function(){return e.setState({dropdownOpenNew:!e.state.dropdownOpenNew})},e.changeTipo=function(t){e.setState({labelTipo:{tipo:t.target.textContent,id:t.target.value}})},e.changeTipoNew=function(t){return e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{tipo_solo:{tipo:t.target.textContent,id:t.target.value}})})},e.changeVolume=function(t){return e.setState({volume:t.target.value})},e.changeVolumeNew=function(t){return e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{volume:t.target.value})})},e.changeLatLong=function(t,a){return e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{latitude:t,longitude:a})})},e.toggle=function(){return e.setState({showModal:!e.state.showModal})},e.cleanFilters=function(){e.setState({labelTipo:{tipo:"Tipo de solo",id:0},volume:""})},e.buscarDoacao=Object(O.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.volume,s=e.state.labelTipo.id,t.next=4,W.post("solos-doacao-data-params/",{volume:a,tipoId:s}).then((function(t){e.setState({doacoes:t.data}),e.state.doacoes.length<=0&&Z("Nenhuma doa\xe7\xe3o encontrada com os filtros informados")}));case 4:(0!==e.state.doacoes.length&&e.state.hidden||0===e.state.doacoes.length&&!1===e.state.hidden)&&e.hiddenTabela();case 5:case"end":return t.stop()}}),t)}))),e.saveSolo=Object(O.a)(m.a.mark((function t(){var a,s,n,o,c,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.new,s=a.volume,n=a.latitude,o=a.longitude,c=e.state.modalAdd,i=e.state.new.tipo_solo.id,!n||!o){t.next=20;break}if(""===s){t.next=17;break}if(0===i){t.next=14;break}if(null===c.selectedFile){t.next=11;break}return t.next=9,W.post("solo/",{volume:s,tipoSoloId:i,latitude:n,longitude:o,statusSoloId:1}).then((function(t){e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{id:t.data.id})}),e.setState({modalAdd:Object(h.a)(Object(h.a)({},e.state.modalAdd),{},{soloId:t.data.id})}),e.setState({doacoes:[e.state.new].concat(e.state.doacoes)}),(0!==e.state.doacoes.length&&e.state.hidden||0===e.state.doacoes.length&&!1===e.state.hidden)&&e.hiddenTabela(),e.saveFile(),Y("Doa\xe7\xe3o cadastrada com sucesso"),e.toggle()})).catch((function(){X("Erro ao cadastrar a doa\xe7\xe3o")}));case 9:t.next=12;break;case 11:X("O PDF do laudo STP \xe9 obrigat\xf3rio!");case 12:t.next=15;break;case 14:X("Informe o tipo do solo");case 15:t.next=18;break;case 17:X("Informe o volume de solo da doa\xe7\xe3o");case 18:t.next=21;break;case 20:Z("Por favor, permita o acesso a sua localiza\xe7\xe3o para poder cadastrar novas doa\xe7\xf5es no SDSE.");case 21:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getLoc(),W.post("solos-doacao-data-params").then((function(t){e.setState({doacoes:t.data})})),W.get("solo-tipos").then((function(t){e.setState({tipos:t.data.tipoSolos})}))}},{key:"setDoacoes",value:function(e){this.setState({doacoes:e})}},{key:"saveFile",value:function(){var e=this,t=this.state.modalAdd,a=new FormData;a.append("file",t.selectedFile),a.append("soloId",t.soloId),W({method:"post",url:"/file-solo",data:a,headers:{"Content-Type":"multipart/form-data"}}).then((function(t){Y("Relat\xf3rio PDF cadastrado com sucesso");e.setState({modalAdd:{selectedFile:null}})})).catch((function(e){console.log(e)}))}},{key:"getLoc",value:function(){var e=this,t="",a="";navigator.permissions.query({name:"geolocation"}).then((function(s){if("granted"===s.state||"prompt"===s.state){var n,o=function(){var s=Object(O.a)(m.a.mark((function s(o){return m.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:null!=o.coords.latitude?(t=(n=o).coords.latitude,a=n.coords.longitude,localStorage.setItem("@user-loc",JSON.stringify({lat:n.coords.latitude,lng:n.coords.longitude})),e.changeLatLong(t,a)):localStorage.setItem("@user-loc",{});case 1:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}();navigator.geolocation.getCurrentPosition(o)}else"denied"===s.state&&Z("Por favor, permita o acesso a sua localiza\xe7\xe3o para poder cadastrar novas doa\xe7\xf5es no SDSE.")}))}},{key:"render",value:function(){var e=this;return Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{className:"p-3 mt-3",children:[Object(H.jsx)(se.a,{children:Object(H.jsxs)("h3",{children:["Minhas doa\xe7\xf5es",Object(H.jsx)(N.a,{className:"ml-5 bg-success",onClick:function(){return e.toggle()},children:"Cadastrar nova doa\xe7\xe3o"})]})}),Object(H.jsx)(k.a,{children:Object(H.jsx)(w.a,{className:"pb-3",children:Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(oe.a,{className:"rounded-left",placeholder:"Volume (m\xb3)",type:"number",value:this.state.volume,onChange:this.changeVolume}),Object(H.jsx)(ce.a,{addonType:"append",children:Object(H.jsx)(N.a,{className:"rounded-right",onClick:this.buscarDoacao,children:"Buscar"})}),Object(H.jsxs)(ie.a,{className:"ml-3",isOpen:this.state.dropdownOpen,toggle:this.toggleTipo,children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.labelTipo.tipo}),Object(H.jsx)(le.a,{children:this.state.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipo,value:t.id,children:t.tipo},t.id)}))})]}),Object(H.jsx)(N.a,{className:"ml-3",outline:!0,onClick:this.cleanFilters,children:"Limpar filtros"})]})})}),Object(H.jsx)(ke,{change:this.setDoacoes.bind(this),solos:this.state.doacoes,tipos:this.state.tipos,hidden:this.state.hidden})]}),Object(H.jsxs)(he.a,{isOpen:this.state.showModal,toggle:this.toggle,children:[Object(H.jsx)(ue.a,{toggle:this.toggle,children:"Cadastrar doa\xe7\xe3o"}),Object(H.jsx)(je.a,{children:Object(H.jsx)(pe.a,{children:Object(H.jsx)(be.a,{children:Object(H.jsxs)(w.a,{form:!0,children:[Object(H.jsxs)(y.a,{children:[Object(H.jsx)(me.a,{for:"volume",children:"Volume (m\xb3)"}),Object(H.jsx)(oe.a,{value:this.state.new.volume,type:"number",id:"volume",onChange:this.changeVolumeNew})]}),Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenNew,toggle:this.toggleTipoNew,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.new.tipo_solo.tipo}),Object(H.jsx)(le.a,{children:this.state.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipoNew,value:t.id,children:t.tipo},t.id)}))})]})}),Object(H.jsxs)("div",{className:"mt-3",children:[Object(H.jsx)("label",{children:"Laudo de caracteriza\xe7\xe3o do solo"}),Object(H.jsx)("input",{type:"file",onChange:function(t){var a=e.state.modalAdd;a.selectedFile=t.target.files[0],e.setState({modalAdd:a})},name:"file",required:!0})]})]})})})}),Object(H.jsxs)(Oe.a,{children:[Object(H.jsx)(N.a,{color:"primary",onClick:this.saveSolo,children:"Salvar"}),Object(H.jsx)(N.a,{className:"ml-3",color:"secondary",onClick:this.toggle,children:"Cancelar"})]})]})]})}}]),a}(s.Component),ye=a(335),Ne=a(336),Te=a(73),Pe=Object(Te.GoogleApiWrapper)({apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:3000"}).MAP_API})(function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(i.a)(this,a),(s=t.call(this,e)).state={selectedPlace:{lat:0,lng:0},selected:!1},s}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({selected:!1})}},{key:"open",value:function(e,t){0!==e.id&&t&&(window.location.href="")}},{key:"render",value:function(){var e=this;return Object(H.jsx)(Te.Map,{google:this.props.google,zoom:14,initialCenter:{lat:this.props.place.latitude,lng:this.props.place.longitude},children:Object(H.jsx)(Te.Marker,{position:{lat:this.props.place.latitude,lng:this.props.place.longitude},onClick:function(){e.setState({selected:!0,selectedPlace:e.props.place})}})})}}]),a}(s.Component)),_e=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:0,volume:"",selected:{volume:"",tipo_solo:{tipo:"Tipo do solo",id:0},status_solo:{status:"Status do solo",id:0},empresa_user:{nome:"",telefone:"",cnpj:"",email:"",representante:""},file:{url:""}},showModal:!1,places:[]},e.changeVolume=function(t){return e.setState({volume:t.target.value})},e.handlePageClick=function(t,a){t.preventDefault(),e.setState({currentPage:a})},e.handlePreviousClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage-1})},e.handleNextClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage+1})},e.toggle=function(){return e.setState({showModal:!e.state.showModal})},e.interesse=function(){},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({solos:this.props.solos})}},{key:"render",value:function(){var e=this;return Object(H.jsxs)("div",{children:[Object(H.jsxs)(ge.a,{striped:!0,bordered:!0,dark:!0,hover:!0,hidden:this.props.hidden,children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{children:"Volume"}),Object(H.jsx)("th",{children:"Tipo"}),Object(H.jsx)("th",{children:"Informa\xe7\xf5es"})]})}),Object(H.jsx)("tbody",{children:this.props.solos.slice(10*this.state.currentPage,10*(this.state.currentPage+1)).map((function(t){return Object(H.jsx)(n.a.Fragment,{children:Object(H.jsxs)("tr",{children:[Object(H.jsxs)("td",{children:[t.volume," m\xb3"]}),Object(H.jsx)("td",{children:t.tipo_solo.tipo}),Object(H.jsx)("td",{children:Object(H.jsx)(N.a,{onClick:function(){e.setState({selected:t}),e.toggle()},children:"Mais +"})})]})},t.id)}))})]}),Object(H.jsx)(Ce,{hidden:this.props.hidden,pagesCount:Math.round(this.props.solos.length/10+.5),currentPage:this.state.currentPage,handlePageClick:this.handlePageClick,handlePreviousClick:this.handlePreviousClick,handleNextClick:this.handleNextClick}),Object(H.jsxs)(he.a,{isOpen:this.state.showModal,toggle:this.toggle,children:[Object(H.jsx)(ue.a,{toggle:this.toggle,children:"Informa\xe7\xf5es sobre a doa\xe7\xe3o"}),Object(H.jsxs)(je.a,{children:[Object(H.jsxs)(ye.a,{children:[Object(H.jsxs)(Ne.a,{children:["Empresa: ",this.state.selected.empresa_user.nome]}),Object(H.jsxs)(Ne.a,{children:["Telefone: ",this.state.selected.empresa_user.telefone]}),Object(H.jsxs)(Ne.a,{children:["CNPJ: ",this.state.selected.empresa_user.cnpj]}),Object(H.jsxs)(Ne.a,{children:["E-mail: ",this.state.selected.empresa_user.email]}),Object(H.jsxs)(Ne.a,{children:["Representante: ",this.state.selected.empresa_user.representante]})]}),Object(H.jsxs)("a",{className:"button-pdf",href:this.state.selected.file.url,download:"laudoSTP",children:["Baixar laudo de caractariza\xe7\xe3o do solo",Object(H.jsx)("i",{class:"fa fa-file-pdf-o"})]}),Object(H.jsxs)(w.a,{className:"ml-5 mr-5",children:[Object(H.jsx)(me.a,{children:"Tem interese?"}),Object(H.jsx)("br",{}),Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(oe.a,{className:"rounded-left",placeholder:"Volume (m\xb3)",type:"number",value:this.state.volume,onChange:this.changeVolume}),Object(H.jsx)(ce.a,{addonType:"append",children:Object(H.jsx)(N.a,{className:"rounded-right",onClick:this.interesse,children:"Sim!"})})]})]}),Object(H.jsx)("div",{className:"mapa",children:Object(H.jsx)(Pe,{place:this.state.selected})})]}),Object(H.jsx)(Oe.a,{})]})]})}}]),a}(s.Component),Ee=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={doacoes:[],tipos:[],hidden:!1,volume:"",dropdownOpen:!1,labelTipo:{tipo:"Tipo de solo",id:0}},e.hiddenTabela=function(){return e.setState({hidden:!e.state.hidden})},e.toggleTipo=function(){return e.setState({dropdownOpen:!e.state.dropdownOpen})},e.changeTipo=function(t){e.setState({labelTipo:{tipo:t.target.textContent,id:t.target.value}})},e.changeVolume=function(t){return e.setState({volume:t.target.value})},e.toggle=function(){return e.setState({showModal:!e.state.showModal})},e.cleanFilters=function(){e.setState({labelTipo:{tipo:"Tipo de solo",id:0},volume:""})},e.buscarDoacao=Object(O.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.volume,s=e.state.labelTipo.id,t.next=4,W.post("/solos-doacao-disp-data-params/",{volume:a,tipoId:s}).then((function(t){e.setState({doacoes:t.data}),e.state.doacoes.length<=0&&Z("Nenhuma doa\xe7\xe3o encontrada com os filtros informados")}));case 4:(0!==e.state.doacoes.length&&e.state.hidden||0===e.state.doacoes.length&&!1===e.state.hidden)&&e.hiddenTabela();case 5:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.post("/solos-doacao-disp-data-params").then((function(t){e.setState({doacoes:t.data})})),W.get("solo-tipos").then((function(t){e.setState({tipos:t.data.tipoSolos})}))}},{key:"render",value:function(){var e=this;return Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{className:"p-3 mt-3",children:[Object(H.jsx)(se.a,{children:Object(H.jsx)("h3",{children:"Doa\xe7\xf5es dispon\xedveis"})}),Object(H.jsx)(k.a,{children:Object(H.jsx)(w.a,{className:"pb-3",children:Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(oe.a,{className:"rounded-left",placeholder:"Volume (Kg)",type:"number",value:this.state.volume,onChange:this.changeVolume}),Object(H.jsx)(ce.a,{addonType:"append",children:Object(H.jsx)(N.a,{className:"rounded-right",onClick:this.buscarDoacao,children:"Buscar"})}),Object(H.jsxs)(ie.a,{className:"ml-3",isOpen:this.state.dropdownOpen,toggle:this.toggleTipo,children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.labelTipo.tipo}),Object(H.jsx)(le.a,{children:this.state.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipo,value:t.id,children:t.tipo},t.id)}))})]}),Object(H.jsx)(N.a,{className:"ml-3",outline:!0,onClick:this.cleanFilters,children:"Limpar filtros"})]})})}),Object(H.jsx)(_e,{solos:this.state.doacoes,hidden:this.state.hidden})]})]})}}]),a}(s.Component),De=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={currentPage:0,selected:{volume:"",tipo_solo:{tipo:"Tipo do solo",id:0},status_solo:{status:"Status do solo",id:0}},dropdownOpenTipo:!1,dropdownOpenStatus:!1,showModalEdit:!1,status:[{id:2,status:"SOLICITA\xc7\xc3O - ABERTA"},{id:4,status:"SOLICITA\xc7\xc3O - ATENDIDA"}]},e.handlePageClick=function(t,a){t.preventDefault(),e.setState({currentPage:a})},e.handlePreviousClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage-1})},e.handleNextClick=function(t){t.preventDefault(),e.setState({currentPage:e.state.currentPage+1})},e.toggleEdit=function(){return e.setState({showModalEdit:!e.state.showModalEdit})},e.toggleTipo=function(){return e.setState({dropdownOpenTipo:!e.state.dropdownOpenTipo})},e.toggleStatus=function(){return e.setState({dropdownOpenStatus:!e.state.dropdownOpenStatus})},e.changeVolume=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{volume:t.target.value})})},e.changeTipo=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{tipo_solo:{tipo:t.target.textContent,id:t.target.value}})})},e.changeStatus=function(t){return e.setState({selected:Object(h.a)(Object(h.a)({},e.state.selected),{},{status_solo:{status:t.target.textContent,id:t.target.value}})})},e.updateSolo=function(){var t=e.state.selected,a=t.id,s=t.volume,n=e.state.selected.tipo_solo.id,o=e.state.selected.status_solo.id;""!==s?0!==n?0!==o?W.put("solo/".concat(a),{volume:s,tipoSoloId:n,statusSoloId:o}).then((function(){var t=e.props.solos.filter((function(t){return e.state.selected.id!==t.id}));e.setState({solos:[e.state.selected].concat(t)}),e.props.change([e.state.selected].concat(t)),Y("Solicita\xe7\xe3o atualizada com sucesso")})).catch((function(){X("Erro ao atualizar a solicita\xe7\xe3o")})):X("Informe o status da solicita\xe7\xe3o"):X("Informe o tipo do solo"):X("Informe o volume de solo da solicita\xe7\xe3o")},e}return Object(r.a)(a,[{key:"componentWillReceiveProps",value:function(){this.setState({solos:this.props.solos})}},{key:"render",value:function(){var e=this;return Object(H.jsxs)("div",{children:[Object(H.jsxs)(ge.a,{striped:!0,bordered:!0,dark:!0,hover:!0,hidden:this.props.hidden,children:[Object(H.jsx)("thead",{children:Object(H.jsxs)("tr",{children:[Object(H.jsx)("th",{children:"Volume"}),Object(H.jsx)("th",{children:"Tipo"}),Object(H.jsx)("th",{children:"Status"}),Object(H.jsx)("th",{children:"A\xe7\xe3o"})]})}),Object(H.jsx)("tbody",{children:this.props.solos.slice(10*this.state.currentPage,10*(this.state.currentPage+1)).map((function(t){return Object(H.jsx)(n.a.Fragment,{children:Object(H.jsxs)("tr",{children:[Object(H.jsxs)("td",{children:[t.volume," m\xb3"]}),Object(H.jsx)("td",{children:t.tipo_solo.tipo}),Object(H.jsx)("td",{children:t.status_solo.status}),Object(H.jsxs)("td",{children:[Object(H.jsx)(N.a,{onClick:function(){e.setState({selected:t}),e.toggleEdit()},children:"Editar"}),"                    "]})]})},t.id)}))})]}),Object(H.jsx)(Ce,{hidden:this.props.hidden,pagesCount:Math.round(this.props.solos.length/10+.5),currentPage:this.state.currentPage,handlePageClick:this.handlePageClick,handlePreviousClick:this.handlePreviousClick,handleNextClick:this.handleNextClick}),Object(H.jsxs)(he.a,{isOpen:this.state.showModalEdit,toggle:this.toggleEdit,children:[Object(H.jsx)(ue.a,{toggle:this.toggleEdit,children:"Editar solicita\xe7\xe3o"}),Object(H.jsx)(je.a,{children:Object(H.jsx)(pe.a,{children:Object(H.jsxs)(be.a,{children:[Object(H.jsxs)(w.a,{form:!0,children:[Object(H.jsxs)(y.a,{children:[Object(H.jsx)(me.a,{for:"volume",children:"Volume (m\xb3)"}),Object(H.jsx)(oe.a,{value:this.state.selected.volume,type:"number",id:"volume",onChange:this.changeVolume})]}),Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenTipo,toggle:this.toggleTipo,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.selected.tipo_solo.tipo}),Object(H.jsx)(le.a,{children:this.props.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipo,value:t.id,children:t.tipo},t.id)}))})]})})]}),Object(H.jsx)(w.a,{form:!0,children:Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenStatus,toggle:this.toggleStatus,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.selected.status_solo.status}),Object(H.jsx)(le.a,{children:this.state.status.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeStatus,value:t.id,children:t.status},t.id)}))})]})})})]})})}),Object(H.jsxs)(Oe.a,{children:[Object(H.jsx)(N.a,{color:"primary",onClick:function(){e.updateSolo(),e.toggleEdit()},children:"Salvar"}),Object(H.jsx)(N.a,{className:"ml-3",color:"secondary",onClick:this.toggleEdit,children:"Cancelar"})]})]})]})}}]),a}(s.Component),Ae=[{path:"/login",name:"Login",component:U},{path:"/inicio",name:"Inicio",isAuth:!0,component:G},{path:"/redef_senha/:token",name:"RedefSenha",component:$},{path:"/cadastro_senha/:token",name:"PrimeiraSenha",component:ae},{path:"/recupera_senha",name:"RecuperaSenha",component:ee},{path:"/primeiro_acesso",name:"PrimeiroAcesso",component:te},{path:"/doacoes",name:"Doacoes",isAuth:!0,component:we},{path:"/solicitacao",name:"Solicitacao",isAuth:!0,component:function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).state={solicitacoes:[],new:{id:0,volume:"",tipo_solo:{tipo:"Tipo do solo",id:0},status_solo:{status:"SOLICITA\xc7\xc3O - ABERTA",id:2}},tipos:[],hidden:!1,volume:"",dropdownOpen:!1,dropdownOpenNew:!1,labelTipo:{tipo:"Tipo de solo",id:0},showModal:!1},e.hiddenTabela=function(){return e.setState({hidden:!e.state.hidden})},e.toggleTipo=function(){return e.setState({dropdownOpen:!e.state.dropdownOpen})},e.toggleTipoNew=function(){return e.setState({dropdownOpenNew:!e.state.dropdownOpenNew})},e.changeTipo=function(t){e.setState({labelTipo:{tipo:t.target.textContent,id:t.target.value}})},e.changeTipoNew=function(t){return e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{tipo_solo:{tipo:t.target.textContent,id:t.target.value}})})},e.changeVolume=function(t){return e.setState({volume:t.target.value})},e.changeVolumeNew=function(t){return e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{volume:t.target.value})})},e.toggle=function(){return e.setState({showModal:!e.state.showModal})},e.cleanFilters=function(){e.setState({labelTipo:{tipo:"Tipo de solo",id:0},volume:""})},e.buscarSolicitacao=Object(O.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state.volume,s=e.state.labelTipo.id,t.next=4,W.post("solos-solicitacao-data-params/",{volume:a,tipoId:s}).then((function(t){e.setState({solicitacoes:t.data}),e.state.solicitacoes.length<=0&&Z("Nenhuma solicita\xe7\xe3o encontrada com os filtros informados")}));case 4:(0!==e.state.solicitacoes.length&&e.state.hidden||0===e.state.solicitacoes.length&&!1===e.state.hidden)&&e.hiddenTabela();case 5:case"end":return t.stop()}}),t)}))),e.saveSolo=Object(O.a)(m.a.mark((function t(){var a,s;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.state.new.volume,s=e.state.new.tipo_solo.id,""===a){t.next=11;break}if(0===s){t.next=8;break}return t.next=6,W.post("solo/",{volume:a,tipoSoloId:s,statusSoloId:2}).then((function(t){e.setState({new:Object(h.a)(Object(h.a)({},e.state.new),{},{id:t.data.id})}),e.setState({solicitacoes:[e.state.new].concat(e.state.solicitacoes)}),(0!==e.state.solicitacoes.length&&e.state.hidden||0===e.state.solicitacoes.length&&!1===e.state.hidden)&&e.hiddenTabela(),Y("Solicita\xe7\xe3o cadastrada com sucesso")})).catch((function(){X("Erro ao cadastrar a solicita\xe7\xe3o")}));case 6:t.next=9;break;case 8:X("Informe o tipo do solo");case 9:t.next=12;break;case 11:X("Informe o volume de solo da solicita\xe7\xe3o");case 12:case"end":return t.stop()}}),t)}))),e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;W.post("solos-solicitacao-data-params").then((function(t){e.setState({solicitacoes:t.data})})),W.get("solo-tipos").then((function(t){e.setState({tipos:t.data.tipoSolos})}))}},{key:"setSolicitacoes",value:function(e){this.setState({solicitacoes:e})}},{key:"render",value:function(){var e=this;return Object(H.jsxs)(f.a,{className:"main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsxs)(S.a,{className:"p-3 mt-3",children:[Object(H.jsx)(se.a,{children:Object(H.jsxs)("h3",{children:["Minhas solicita\xe7\xf5es",Object(H.jsx)(N.a,{className:"ml-3 bg-success",onClick:function(){return e.toggle()},children:"Cadastrar solicita\xe7\xe3o"})]})}),Object(H.jsx)(k.a,{children:Object(H.jsx)(w.a,{className:"pb-3",children:Object(H.jsxs)(ne.a,{children:[Object(H.jsx)(oe.a,{className:"rounded-left",placeholder:"Volume (m\xb3)",type:"number",value:this.state.volume,onChange:this.changeVolume}),Object(H.jsx)(ce.a,{addonType:"append",children:Object(H.jsx)(N.a,{className:"rounded-right",onClick:this.buscarSolicitacao,children:"Buscar"})}),Object(H.jsxs)(ie.a,{className:"ml-3",isOpen:this.state.dropdownOpen,toggle:this.toggleTipo,children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.labelTipo.tipo}),Object(H.jsx)(le.a,{children:this.state.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipo,value:t.id,children:t.tipo},t.id)}))})]}),Object(H.jsx)(N.a,{className:"ml-3",outline:!0,onClick:this.cleanFilters,children:"Limpar filtros"})]})})}),Object(H.jsx)(De,{change:this.setSolicitacoes.bind(this),solos:this.state.solicitacoes,tipos:this.state.tipos,hidden:this.state.hidden})]}),Object(H.jsxs)(he.a,{isOpen:this.state.showModal,toggle:this.toggle,children:[Object(H.jsx)(ue.a,{toggle:this.toggle,children:"Cadastrar solicita\xe7\xe3o"}),Object(H.jsx)(je.a,{children:Object(H.jsx)(pe.a,{children:Object(H.jsx)(be.a,{children:Object(H.jsxs)(w.a,{form:!0,children:[Object(H.jsxs)(y.a,{children:[Object(H.jsx)(me.a,{for:"volume",children:"Volume (m\xb3)"}),Object(H.jsx)(oe.a,{value:this.state.new.volume,type:"number",id:"volume",onChange:this.changeVolumeNew})]}),Object(H.jsx)(y.a,{children:Object(H.jsxs)(ie.a,{isOpen:this.state.dropdownOpenNew,toggle:this.toggleTipoNew,className:"pt-4",children:[Object(H.jsx)(re.a,{caret:!0,children:this.state.new.tipo_solo.tipo}),Object(H.jsx)(le.a,{children:this.state.tipos.map((function(t){return Object(H.jsx)(de.a,{disabled:0===t.id,onClick:e.changeTipoNew,value:t.id,children:t.tipo},t.id)}))})]})})]})})})}),Object(H.jsxs)(Oe.a,{children:[Object(H.jsx)(N.a,{color:"primary",onClick:function(){e.saveSolo(),e.toggle()},children:"Salvar"}),Object(H.jsx)(N.a,{className:"ml-3",color:"secondary",onClick:this.toggle,children:"Cancelar"})]})]})]})}}]),a}(s.Component)},{path:"/doacoes-disponiveis",name:"DoacoesDisponiveis",isAuth:!0,component:Ee},{path:"/edicao-dados",name:"EdicaoDados",isAuth:!0,component:function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=L().user,a=t.nome,s=t.cnpj,n=t.cfdf,o=t.email,c=t.telefone,i=t.representante,r=t.cargo_representante,l=t.cpf_representante;return Object(H.jsxs)(f.a,{className:"mt-5 mb-5 main",children:[Object(H.jsx)("h1",{align:"center",className:"mb-5",children:Object(H.jsx)(v.a,{children:"SDSE"})}),Object(H.jsx)(S.a,{children:Object(H.jsxs)(k.a,{children:[Object(H.jsx)(se.a,{children:"Dados empresariais"}),Object(H.jsx)(g.c,{initialValues:{nome:a,cnpj:s,cfdf:n,email:o,telefone:c,representante:i,cargo_representante:r,cpf_representante:l},validationSchema:P.a().shape({nome:P.c().required("Campo Obrigat\xf3rio!"),cnpj:P.c().required("Campo Obrigat\xf3rio!"),cfdf:P.c().required("Campo Obrigat\xf3rio!"),email:P.c().required("Campo Obrigat\xf3rio!").email("E-mail inv\xe1lido!"),telefone:P.c().required("Campo Obrigat\xf3rio!"),representante:P.c().required("Campo Obrigat\xf3rio!"),cargo_representante:P.c().required("Campo Obrigat\xf3rio!"),cpf_representante:P.c().required("Campo Obrigat\xf3rio!")}),onSubmit:function(){var t=Object(O.a)(m.a.mark((function t(a,s){var n,o,c,i,r,l,d,h;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.setSubmitting,n=a.nome,o=a.cnpj,c=a.cfdf,i=a.email,r=a.telefone,l=a.representante,d=a.cargo_representante,h=a.cpf_representante,t.next=11,W.put("empresa",{nome:n,cnpj:o,cfdf:c,email:i,telefone:r,representante:l,cargo_representante:d,cpf_representante:h}).then((function(t){Y("Dados atualizados com sucesso!"),q(t.data),e.props.history.push("/inicio")})).catch((function(e){alert(e)}));case 11:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),children:Object(H.jsxs)(g.b,{children:[Object(H.jsx)(g.a,{name:"nome",label:"Nome",type:"text",component:x.a}),Object(H.jsx)(g.a,{name:"telefone",label:"Telefone",type:"text",tag:E.a,mask:V,component:x.a}),Object(H.jsx)(g.a,{name:"email",label:"Email",type:"text",component:x.a}),Object(H.jsx)(g.a,{name:"cnpj",label:"CNPJ",type:"text",tag:E.a,mask:D,component:x.a}),Object(H.jsx)(g.a,{name:"cfdf",label:"CFDF",type:"text",tag:E.a,mask:A,component:x.a}),Object(H.jsx)(g.a,{name:"representante",label:"Representante",type:"text",component:x.a}),Object(H.jsx)(g.a,{name:"cargo_representante",label:"Cargo do Representante",type:"text",component:x.a}),Object(H.jsx)(g.a,{name:"cpf_representante",label:"CPF do Representante",type:"text",tag:E.a,mask:I,component:x.a}),Object(H.jsx)(N.a,{type:"submit",children:"Salvar"}),Object(H.jsx)(N.a,{className:"ml-3",type:"reset",children:"Limpar"})]})})]})}),Object(H.jsx)(K,{})]})}}]),a}(s.Component)}],Ie=function(e){var t=e.component,a=Object(u.a)(e,["component"]);return Object(H.jsx)(j.b,Object(h.a)(Object(h.a)({},a),{},{render:function(e){return null!==localStorage.getItem(M)?Object(H.jsx)(t,Object(h.a)({},e)):Object(H.jsx)(j.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Ve=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).getRoutes=function(e){return e.map((function(e,t){return e.isAuth?Object(H.jsx)(Ie,{path:e.path,component:e.component},t):Object(H.jsx)(j.b,{path:e.path,component:e.component},t)}))},e}return Object(r.a)(a,[{key:"render",value:function(){return Object(H.jsx)(p.a,{children:Object(H.jsxs)(j.d,{children:[this.getRoutes(Ae),Object(H.jsx)(j.a,{exact:!0,from:"/",to:"/login"})]})})}}]),a}(s.Component),Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,342)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,o=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),o(e),c(e)}))};a(311);c.a.render(Object(H.jsx)(n.a.Fragment,{children:Object(H.jsx)(Ve,{})}),document.getElementById("root")),Me()},36:function(e,t,a){}},[[312,1,2]]]);
//# sourceMappingURL=main.686473b9.chunk.js.map